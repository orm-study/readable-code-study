# 객체 지향 프로그래밍 핵심 개념 정리

## 1. 상속과 조합

### 상속 (Inheritance)
- 클래스 간 계층 구조를 표현하는 방식
- 중복 제거와 코드 재사용을 위한 메커니즘
- 상위 클래스의 자원과 기능을 하위 클래스가 사용하면서 고유 기능도 추가 가능
- LSP(리스코프 치환 원칙)에 따라 상위 클래스 타입이 사용된 곳에 하위 클래스 구현체 사용 가능

### 조합 (Composition)
- 한 객체가 필요한 기능을 다른 객체를 필드로 선언하여 사용하는 방식
- 더 유연한 구조 설계 가능
- 객체 간 결합도를 낮출 수 있음

### 상속보다 조합을 선호해야 하는 이유
1. **유연성**
   - 상속은 '시멘트처럼 굳어지는 구조'로 수정이 어려움
   - 부모-자식 간 결합도가 높아 부모 클래스 수정 시 모든 자식 클래스에 영향
   
2. **설계 원칙**
   - 중복이 발생하더라도 유연한 구조 설계가 주는 이점이 더 큼
   - 단순한 중복 제거만을 위한 상속은 지양해야 함

## 2. 값 객체 (Value Object)

### 특성
1. **불변성 (Immutability)**
   - final 키워드 사용
   - setter 메서드 제공하지 않음
   
2. **동등성 (Equality)**
   - 서로 다른 인스턴스여도 값이 같으면 같은 객체로 취급
   - equals()와 hashCode() 메서드 재정의 필요
   
3. **유효성 검증**
   - 객체 생성 시점에 값에 대한 유효성 검증 수행

### VO vs Entity 비교
- **Entity**: 식별자 존재, 식별자가 같으면 다른 필드값이 달라도 동등 취급
- **Value Object**: 식별자 없음, 모든 필드값이 같아야 동등 취급

## 3. 일급 컬렉션 (First Class Collection)

### 일급 시민의 조건
1. 변수에 할당 가능
2. 파라미터로 전달 가능
3. 함수의 결과로 반환 가능

### 구현 원칙
1. 컬렉션을 포장하는 단일 책임 클래스 생성
2. 해당 클래스는 컬렉션 하나만 필드로 가짐
3. 컬렉션에 대한 조작은 클래스 메서드를 통해서만 가능
4. getter로 컬렉션 반환 시 새로운 컬렉션을 생성하여 반환

### 장점
- 컬렉션에 대한 책임을 클래스로 위임
- 상태와 행위를 한 곳에서 관리
- 컬렉션의 불변성 보장
- 테스트 용이성 향상

## 핵심 권장사항

1. **상속 사용 시점**
   - 확실한 상속 관계가 보장될 때만 사용
   - 변경 가능성이 낮은 경우에 한정

2. **조합 활용**
   - 유연한 구조가 필요한 대부분의 상황에서 선호
   - 인터페이스와 함께 사용하여 결합도 낮춤

3. **값 객체 활용**
   - 도메인 개념을 명확히 표현해야 할 때
   - 불변성이 필요한 데이터 다룰 때

4. **일급 컬렉션 사용**
   - 컬렉션을 다루는 책임이 명확할 때
   - 컬렉션의 불변성을 보장해야 할 때
